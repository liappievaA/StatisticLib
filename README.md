### README

# Тестирование волатильности и параметров моделей с использованием перекрывающихся наблюдений

Данный проект имплементирует статью "Backtesting Volatility Assumptions Using Overlapping Observations" Майкла А. Клейтона.
В статье описан подход к проверке гипотезы о совпадении двух нормальных распределений, которые являются коррелированными. Мы продемонстрировали данный подход для броуновского движения, а также расширили его для процесса Кокса-Ингерсолла-Росса(CIR).

---

## Установка

### Предварительные требования
 Установите необходимые библиотеки:
   ```bash
   pip install -r requirements.txt
   ```


---

## Описание

### Реализованные тесты
1. **Тест Колмогорова-Смирнова (KS)**:
   - Проверяет равномерность стандартизированных наблюдений.
2. **Тест Андерсона-Дарлинга (AD)**:
   - Более чувствителен к отклонениям в концах распределения.
3. **Тест отношения правдоподобия (LR)**:
   - Сравнивает наблюдаемую дисперсию с ожидаемой.

### Варианты тестирования
- **Без перекрытия интервалов**: Наблюдения не пересекаются.
- **С перекрытием интервалов**: Наблюдения частично пересекаются, что приводит к корреляции.

### Модифицированные тесты
- **KSρ, ADρ, LRρ**:
  - Скорректированные версии тестов, учитывающие корреляции, вызванные перекрывающимися интервалами.

---

## Основные возможности
1. **Обработка данных**:
   - Импорт данных из форматов CSV, Excel или JSON.
   - Генерация синтетических временных рядов на основе нормальной диффузионной модели.

2. **Реализация тестов**:
   - Стандартные тесты (KS, AD, LR).
   - Модифицированные версии тестов (KSρ, ADρ, LRρ) с учетом корреляций.

3. **Аналитические инструменты**:
   - Монте-Карло симуляции для генерации распределений тестовых статистик.
   - Построение ROC-кривых и расчет показателя True Positive Rate (TPR).
   - Оценка дискриминационной мощности (DP) для ранжирования тестов.

4. **Визуализация и экспорт**:
   - Построение графиков распределений и ROC-кривых.
   - Экспорт результатов в формате CSV или PDF.

---

## Функциональные и системные требования

### Функциональные требования

1. **Импорт данных**:
   - Поддержка импорта временных рядов.
   - Возможность загрузки данных для анализа и тестирования.

2. **Генерация данных**:
   - Генерация синтетических временных рядов на основе:
     - **Арифметического броуновского движения (ABM)**.
     - **Модели Кокса-Ингерсолла-Росса (CIR)**.
   - Поддержка различных параметров для генерации данных: волатильность, коэффициент возврата к среднему, дрейф, начальное значение.

3. **Реализация тестов**:
   - Поддержка стандартных тестов:
     - **Тест Колмогорова-Смирнова (KS)**.
     - **Тест Андерсона-Дарлинга (AD)**.
     - **Тест отношения правдоподобия (LR)**.
   - Поддержка модифицированных тестов (KSρ, ADρ, LRρ) для учета корреляций, вызванных перекрывающимися интервалами.

4. **Монте-Карло симуляции**:
   - Проведение симуляций для генерации распределений тестовых статистик.
   - Поддержка как перекрывающихся, так и неперекрывающихся наблюдений.

5. **Анализ параметров модели**:
   - Тестирование на основе изменения:
     - **Волатильности** (для ABM и CIR).
     - **Коэффициента возврата к среднему** (для CIR).
     - **Дрейфа** (для CIR).

6. **Визуализация данных**:
   - Построение графиков распределений тестовых статистик.
   - Построение ROC-кривых.
   - Визуализация траекторий временных рядов для ABM и CIR.

7. **Оценка дискриминационной мощности (DP)**:
   - Ранжирование тестов по их способности правильно идентифицировать модель с определенным дефектом.
   - Расчет DP для различных комбинаций тестов и параметров модели.

8. **Экспорт результатов**:
   - Возможность сохранения результатов тестов и графиков в форматах:
     - CSV (для табличных данных).
     - PDF (для графиков и отчетов).

9. **Поддержка нескольких моделей**:
   - **ABM**: Используется для тестирования волатильности в простых случаях.
   - **CIR**: Используется для тестирования более сложных моделей с учетом возврата к среднему и дрейфа.

10. **Обработка данных**:
    - Преобразование временных рядов в униформные значения для тестирования.
    - Поддержка обработки многомерных данных.

11. **Поддержка различных горизонтов тестирования**:
    - Возможность настройки горизонта тестирования (h) и частоты обновления (d) для перекрывающихся и неперекрывающихся наблюдений.

12. **Настройка параметров тестирования**:
    - Возможность настройки параметров тестов (например, количество симуляций, горизонт тестирования, частота обновления).


---

 ## Итоговые результаты

 1. Имплементирован подход, описанный в статье, в ноутбуке ClaytonImplementation.ipynb.

 2. Разработана UML-диаграмма с описанием дизайна библиотеки statisticslib, которая воссоздает функционал для использования такого подхода.

 3. Реализована библиотека по описанному дизайну.

 4. Проверена работоспособность библиотеки в файлах launchBM.ipynb и launchCIR.ipynb для броуновского движения и процесса CIR соответсвенно.

 5. Настроен GitHub Actions для использования Doxygen.  

 6. Была попытка ускорить программу с помощью переноса кода симулятора траекторий броуновского движения. Был переписан код файла ArithmeticBrownianMotion.py на язык C++, но не удалось применить swig для портирования на python.

